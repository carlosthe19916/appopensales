<div class="row">
  <div class="col-md-8 col-md-offset-2">
    <h1>Configurar impresora</h1>

    <fieldset class="border-top">
      <legend><span class="text ng-scope">Impresora <i class="fa fa-question-circle text-muted"
                                                       uib-tooltip="Configuracion de la impresora por defecto."
                                                       uib-tooltip-placement="right"></i></span></legend>
      <form name="form" class="form-horizontal" novalidate>
        <div class="form-group" ng-class="{ 'has-error' : form.printerName.$invalid && form.$submitted}">
          <label class="col-sm-2 control-label">
            <i class="pficon pficon-print text-muted" tooltip-placement="right" uib-tooltip="Punto de venta asignado al trabajador"></i>
            Impresora
            <i class="fa fa-info-circle text-muted" tooltip-placement="right" uib-tooltip="Nombre de la impresora"></i>
          </label>
          <div class="col-sm-4">
            <input name="printerName" type="text" data-ng-model="view.printer.default.name" data-ng-minlength="1" data-ng-maxlength="200" class="form-control" pf-focused="true" autofocus required/>
            <div data-ng-messages="form.printerName.$error" data-ng-if="form.$submitted">
              <div class="has-error" data-ng-message="required">Ingrese nombre de impresora.</div>
              <div class="has-error" data-ng-message="minlength">Ingrese nombre de impresora.</div>
              <div class="has-error" data-ng-message="maxlength">Nombre muy extenso, maximo 200 caracteres.</div>
            </div>
          </div>
          <div class="col-sm-6">
            <div class="btn-group">
              <button class="btn btn-default" data-ng-click="findPrinter()"><i class="fa fa-check"></i> Check</button>
              <button class="btn btn-default" data-ng-click="printTestPage()"><i class="fa fa-print"></i> Imprimir</button>
            </div>
          </div>
        </div>
        <div class="form-group">
          <div class="col-sm-offset-2 col-sm-10">
            <button sc-save ng-disabled="working">
              <span ng-show="working">Guardando...</span>
              <span ng-hide="working">Guardar</span>
            </button>
            <button sc-cancel ng-disabled="working" ui-sref="^.buscar">Cancelar</button>
          </div>
        </div>
      </form>
    </fieldset>

    <fieldset class="border-top">
      <legend><span class="text ng-scope">Impresoras disponibles <i class="fa fa-question-circle text-muted ng-scope"
                                                                    uib-tooltip="Lista de impresoras disponibles en su computador."
                                                                    uib-tooltip-placement="right"></i></span></legend>
      <div class="form-horizontal">
        <div class="form-group">
          <label class="col-sm-2 control-label">
            Buscar impresoras
            <i class="fa fa-info-circle text-muted" tooltip-placement="right" uib-tooltip="Busca impresoras en su computador"></i>
          </label>
          <div class="col-sm-6">
            <button type="button" class="btn btn-default" data-ng-click="findPrinters()"><i class="pficon pficon-network"></i> Buscar</button>&nbsp;
            <span data-ng-show="!view.printers.length"  class="spinner spinner-xs spinner-inline"></span>
          </div>
        </div>
        <div class="form-group">
          <label class="col-sm-2 control-label"></label>
          <div class="col-sm-8">
            <ol>
              <li data-ng-repeat="item in view.printers">
            <span>
              <i class="pficon pficon-print text-muted"></i>&nbsp;{{item}}
            </span>
                <a href="" data-ng-click="selectPrinter(item, $index)"><i class="fa fa-reply-all"></i></a>
              </li>
            </ol>
          </div>
        </div>
      </div>
    </fieldset>
  </div>
</div>
